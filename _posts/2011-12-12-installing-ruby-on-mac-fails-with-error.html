---
layout: post
title: "Installing Ruby on a Mac fails with an error while running configure"
date: 2011-12-12
comments: false
---

<div class='post'>
Today I tried to upgrade my Ruby version to the latest (1.9.3-p0) using RVM (Ruby Version Manager). &nbsp;When I tried the install it failed with an error:<br /><br /><br /><span style="color: red; font-family: 'Courier New', Courier, monospace;">ERROR: Error running ' ./configure --prefix=/Users/bill/.rvm/rubies/ruby-1.9.3-p0 --enable-shared --disable-install-doc --with-libyaml-dir=/Users/bill/.rvm/usr ', please read /Users/bill/.rvm/log/ruby-1.9.3-p0/configure.log</span><br /><span style="color: red; font-family: 'Courier New', Courier, monospace;">ERROR: There has been an error while running configure. Halting the installation.</span><br /><br />I wasn't sure what to do but after a bit of digging on google and some forums I found the solution. &nbsp;But, before I give you that here is the reasoning I found for the issue:<br /><br /><blockquote class="tr_bq"><span style="background-color: #fbfbfb; color: #333333; font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 12px; line-height: 18px;">it works with 1.9.2 - BUT I was also not able to get RVM going on Lion. I have xcode 4.2.</span><span style="background-color: #fbfbfb; color: #333333; font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 12px; line-height: 18px;">The problem is that xcode uses LLVM GCC and not (standard? I forget the term) GCC.</span></blockquote><span style="background-color: #fbfbfb; color: #333333; font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 12px; line-height: 18px;"><br /></span><br /><span style="background-color: #fbfbfb; color: #333333; font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 12px; line-height: 18px;"><br /></span><br />Finally, here is how to get it to install without any issues:<br /><br /><span style="background-color: #fbfbfb; color: #333333; font-size: 12px; line-height: 18px;"><span style="font-family: 'Courier New', Courier, monospace;"><b>rvm install 1.9.3 --with-gcc=clang</b></span></span><br /><span style="background-color: #fbfbfb; color: #333333; font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 12px; line-height: 18px;"><br /></span><br />This solution was found via <a href="https://github.com/plamoni/SiriProxy/issues/138#issuecomment-3032544">dcinzona</a> at github. &nbsp;He found the answer on <a href="http://stackoverflow.com/questions/8259928/error-compiling-ruby-1-9-3-using-rvm-homebrew-or-macports">stackoverflow</a><br /></div>
