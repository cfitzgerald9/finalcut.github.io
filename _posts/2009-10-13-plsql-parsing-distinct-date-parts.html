---
layout: post
title: "PLSQL : Parsing Distinct Date Parts (STRING.SPLIT)"
date: 2009-10-13
comments: false
categories:
 - plsql_split
 - string.spllit
---

<div class='post'>
This may not be very useful - I know that after I wrote it I actually ended up not needing it but it was a fun exercise anyway.  Basically what it does is it parses the current date (or any date really) and results in three variables being populated with the month number, day number, and year number from the date given.  You could use this for other types of string.split type activities if you needed.<br /><br /><pre name="code" class="sql"><br />  <br />  vDay          NUMBER;<br />  vMonth        NUMBER;<br />  vYear         NUMBER;<br /><br /><br />  SELECT<br />     TO_NUMBER(regexp_substr(t.now, '[^,]+', 1)) INTO vDay,<br />     TO_NUMBER(regexp_substr(t.now, '[^,]+', 4)) INTO vMonth,<br />     TO_NUMBER(regexp_substr(t.now, '[^,]+', 7)) INTO vYear<br />    FROM <br />        (<br />                SELECT to_char(sysdate,'dd,mm,yyyy') as now <br />                  FROM sys.dual)   <br />        <br />        t;<br /></pre><br /><br />Overall this is a pretty simple little query but, if you aren't very familiar with PLSQL it might seem a little daunting.  Here's what's happening in a nutshell.<br /><br /><ol><br /><li>The regexp_substr is getting the string deliniated by the comma; the numeric argument passed to it tells where to start getting the substring from.</li><br /><li>the t; on the last line of the code is an alias that represents the result set returned by the <span style="font-style:italic;">SELECT to_char</span> subquery.  The semi-colon just means the code is complete.  You may have to remove it depending on where you're using the code; personally,  I had it in a stored procedure.</li><br /><li><span style="font-weight:bold;">NOTE:</span>I inserted the comma's into the datestring by specially formatting the date with the to_char method.  Typically people use slashes but I like comma's better for this purpose.</li><br /></ol><br /><br />I've put this up here mostly as a reminder for myself but I hope it helps someone else at some time.<br /><br />If you want to just run it in a SQL query real fast (without variables) try this:<br /><br /><pre name="code" class="sql"><br /> SELECT  <br />    TO_NUMBER(regexp_substr(t.now, '[^,]+', 1)) as vDay,  <br />    TO_NUMBER(regexp_substr(t.now, '[^,]+', 4)) as vMonth,  <br />    TO_NUMBER(regexp_substr(t.now, '[^,]+', 7)) as vYear  <br />   FROM   <br />       (  <br />               SELECT to_char(sysdate,'dd,mm,yyyy') as now   <br />                 FROM sys.dual)     <br />         <br />       t<br /></pre></div>
