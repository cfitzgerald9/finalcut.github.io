---
layout: post
title: "Distance Between Two Latitude + LongitudePoints - PHP"
date: 2009-02-09
comments: false
categories:
 - distance
 - longitude
 - latitude
 - computation
 - cardinal-points
 - math
---

<div class='post'>
I once had a project where the client wanted customers to be able to search for the nearest vendor to the customers zip code - this project was in PHP but the algorithim contained here can be translated to other languages pretty easily (Note, this returns the value in miles):<br /><br /><pre name="code" class="php"><br />function computeDistance($lat1,$lon1,$lat2,$lon2){<br /><br /> $lat1 =  deg2rad($lat1);<br /> $lon1 =  deg2rad($lon1);<br /> $lat2 =  deg2rad($lat2);<br /> $lon2 =  deg2rad($lon2);<br /><br /><br />// Find the deltas<br />      $delta_lat = $lat2 - $lat1;<br />      $delta_lon = $lon2 - $lon1;<br /><br />// radius of earth in miles<br /> $r = 3963.1; <br /><br />      // Find the Great Circle distance<br />      $distance = pow(sin($delta_lat/2.0),2) + cos($lat1) * cos($lat2) * pow(sin($delta_lon/2.0),2);<br />      $distance = $r * 2 * atan2(sqrt($distance),sqrt(1-$distance)); <br /><br /> return $distance;<br /><br /><br /><br />}<br /></pre></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Bill</div>
<div class='content'>
That is probably a good suggestion however in my case I don't know if is any more efficient. I'll have to experiment. There are only about 10 global distributors and I don't have a zipcode db to compute against. I have the coordinates of the warehouses and then a random zipcode.  I then have to find the warehouse nearest the zipcode</div>
</div>
<div class='comment'>
<div class='author'>Paul Hastings</div>
<div class='content'>
and i'll tell you the same thing i told kinky ben, use a bounding box instead.</div>
</div>
</div>
