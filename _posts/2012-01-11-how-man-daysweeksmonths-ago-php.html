---
layout: post
title: "How many Days|Weeks|Months Ago? [php]"
date: 2012-01-11
comments: false
categories:
 - php
---

<div class='post'>
Yesterday I wrote a simple wordpress plugin that checks an rss feed and finds posts in that feed that contain specific keywords. &nbsp;Any posts found that are also younger than n number of days are then displayed at the top of a page just as if they were posts in the wordpress blog.<div><br /></div><div>When I was display the data though I thought it would be nice if the pubdate sent with the feed actually showed up as "2 days ago..." or "4 months ago.." or whatever was applicable. &nbsp;Thus, I did what any good lazy coder does I googled to see if anyone had written this up in PHP already and sure enough someone had.</div><div><br /></div><div>I found this function on the <a href="http://drupal.org/node/61565#comment-198230">drupal support community message boards posted by someone named "drenei"</a></div> <pre class="php" name="code"><br />   &lt;?php<br />   function ago($timestamp){<br />   $difference = time() - $timestamp;<br />   $periods = array("second", "minute", "hour", "day", "week", "month", "years", "decade");<br />   $lengths = array("60","60","24","7","4.35","12","10");<br />   for($j = 0; $difference &gt;= $lengths[$j]; $j++)<br />   $difference /= $lengths[$j];<br />   $difference = round($difference);<br />   if($difference != 1) $periods[$j].= "s";<br />   $text = "$difference $periods[$j] ago";<br />   return $text;<br />  }<br />   ?&gt;<br /></pre></div>
