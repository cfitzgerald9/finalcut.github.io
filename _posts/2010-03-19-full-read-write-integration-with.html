---
layout: post
title: "Full Read-Write Integration with Thunderbird and Google Calendar"
date: 2010-03-19
comments: false
categories:
 - caldav
 - lightning
 - thunderbird
 - calendar
 - google
---

<div class='post'>
For a while I've wanted to get Thunderbird working to the point where events I accept in it are automatically written to my Google Calendar; but not my primary Google calendar - a sub cal for work events only.  Today, I think, I achieved that goal and it was surprisingly easy.<br /><br />First off I am using <a href="http://www.mozillamessaging.com/en-US/thunderbird/">Thunderbird 3.0.1</a> with the <a href="http://www.mozilla.org/projects/calendar/lightning/">Lightning addon</a>.  As of yesterday lightning didn't work with a newer version of Thunderbird so I haven't upgraded yet.<br /><br />Before you start with the tricky stuff you need to go into Thunderbird and in the menu select "Tools | Options | Advanced Tab"  On that tab click the "config editor" button.  Once in there you can search for "calendar.google.enableEmailInvitations" find that and make sure it is set to true.  Then close the little window.<br /><br />Also, if you already have a calendar of any kind in Thunderbird right click on it and pick "properties" then set the "E-Mail" field to "None" and now the field is set for you to tie Google Calendar seamlessly into Thunderbird.<br /><br />In order to accomplish this melding of two great products you need to do a little bit of url manipulation as follows:<br /><ol><li>First use this URL as a template: https://www.google.com/calendar/dav/account@info/events<br /></li><br /><li>Then go to google calendars and pick the calendar you want to put your events on and click the 'calendar settings' option in that calendars menu</li><br /><li>Once on the settings screen look at the bottom at the private addresses and click on the html button (MAKE SURE YOU PICK PRIVATE)</li><br /><li>A little overlay will popup - copy the url that pops up and paste it in your favorite text editor (notepad perhaps)</li><br /><li>This part is a little tricky.  Look at the url for the = sign, it will look like this: http://www.google.com/calendar/embed?src=  - you want to start copying the text from the URL starting just after the equals sign until you reach a % sign.  Stop copying on the last character before the % sign.  That is your private authenticated read/write key to happiness<br /><br /><br>NOTE: If you are pointing to your default calendar it will just be your gmail email address like bob@gmail.com and you don't need to do the next step.<br /><br /></li><br /><li>paste that key on another line then affix @group.calendar.google.com after it.  You'll end up with something crazy looking like this: 9adfkaf9342adas2932@group.calendar.google.com  (no that isn't my key; it's just a fake made up one).</li><br /><li>Next take that key email address you just created and replace account@info in the first url I provided you so that you get something that looks like this: https://www.google.com/calendar/dav/9adfkaf9342adas2932@group.calendar.google.com/events</li><br /></ol><br />At this point you've done the hard work.  Now go into Thunderbird and get to your calendar (Events and Tasks | Calendar) Then create a new calendar (File | New | Calendar) using these initial settings:<br /><ul><li>On the Network > click next</li><li>Select CalDav</li><li>In the location box paste the url you just made (https://www.google.com/calendar/dav/9adfkaf9342adas2932@group.calendar.google.com/events) and click next</li><li>Enter a name, pick a color</li><li>Select the Email Address you Want to associate with this calendar and hit next.<li></ul><br /><br />Once you're finished setting it up the calendar will pull down any events already on the google server and it won't ask you for a login prompt to do it.   That's becuase you provided that secret key before.  Don't tell anyone that key or else they will be able to write on your calendar.<br /><br />NOTE: IF you used your default calendar you will actually have to provide your gmail login info.  Also note that just because someone knows your email address they CAN NOT write on your default calendar.<br /><br /><br />Now, in the future when you get an invitation to an event and you accept it your google calendar will update automatically.</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Dave</div>
<div class='content'>
I&#39;m not able to test it until I get access to outlook somewhere. But <a href="http://www.google.com/support/forum/p/Calendar/thread?tid=120732d111be2e52&amp;hl=en" rel="nofollow"> this thread </a> (and the mozilla bug referenced therein) strongly suggests that the spam invitation problem is not easy to fix.</div>
</div>
<div class='comment'>
<div class='author'>Bill</div>
<div class='content'>
I haven&#39;t noticed that problem.  At least, nobody who has invited me has mentioned that they received a new invitation to their event from me.<br /><br />I use it with my work calendar and so my boss would most likely have mentioned it if I was doing something that might make us look bad.</div>
</div>
<div class='comment'>
<div class='author'>Dave</div>
<div class='content'>
Does this still suffer the problem that the invitation becomes a new invitation from google calendar&#39;s viewpoint and thus re-sends invitations to the whole list?</div>
</div>
<div class='comment'>
<div class='author'>Bill</div>
<div class='content'>
Yes that is exactly what it does.  That&#39;s why I called it &quot;full read-write&quot; integration.  My instructions are tailored more for using a secondary calendar so, if you use them with your primary google calendar, make sure you note the special instructions for that.</div>
</div>
<div class='comment'>
<div class='author'>Tim</div>
<div class='content'>
Hi, not clear if this is what I&#39;m looking for.  By using lightning and provider, I can accept invitations sent to my gmail.<br /><br />However, when I receive them sent to my work email address which I am reading through IMAP, I cannot add them to my google calendar. <br /><br />Does your solution address that</div>
</div>
</div>
