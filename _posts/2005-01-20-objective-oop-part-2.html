---
layout: post
title: "Objective OOP: Part 2"
date: 2005-01-20
comments: false
categories:
 - coldfusion
 - oop
---

<div class='post'>
Yesterday I talked about my ProTask dilemna concerning what objects to create and how to break my system down into logical parts. After writing about it - a very helpful exercise - and then talking about it with some coworkers I am now leaning toward a different setup, of sorts.<br /><br />I think there will be two objects that can be created within the application code: Projects and Project. When I want to create a new project I will can Projects.newProject(); which will return a reference to a Project. Projects.cfc will also have methods for getting collections of Project. Overall it will be a fairly simple object.<br /><br />Project on the other hand will be my main entrypoint to all other objects. Basically, there is no User without a Project. There is no Issue or Priority, Area, or Category without a Project. Because of that if I want to associate a User with a Project I will first call Project.newUser() which will return a UserBean - I will populate this and then call Project.AddUser(userBean). Project.AddUser will then be responsible for invoking the correct other objects/methods to accomplilsh its mission.<br /><br />Project.AddUser() will probably look something like this:<br /><br /><pre name="code" class="coldfusion"><br />...<br />projectGateway = createobject("component","components.projectGatewayFactory");<br />projectGateway = projectGateway.init(variables.projectID);<br /><br />projectGateway.addUser(arguments.userBean)<br />...<br /><br />then projectGateway.addUser() would probably look like<br />...<br />&lt;cfquery datasource="#request.dsn#"&gt;<br />    INSERT INTO project_user (<br />        project_id,<br />        user_id,<br />        role<br />    ) VALUES (<br />        &lt;cfqueryparam cfsqltype="CF_SQL_INTEGER" value="#variables.project_id#"&gt;,<br />       &lt;cfqueryparam cfsqltype="CF_SQL_INTEGER" value="#arguments.userBean.getID()#"&gt;,<br />        &lt;cfqueryparam cfsqltype="CF_SQL_VARCHAR" value="Project Lead"&gt;<br />    )<br />...<br />&lt;/cfquery&gt;<br /></pre><br /><br />Basically this same type of setup would happen for all the different objects. This would, I believe, make life easier for anyone building new functionality into ProTask as well as if I want to provide webservices etc. I only have to provide remote access to up to two objects and the entire system will be available remotely. It seems like a good way to go to me at the moment. What do you think?</div>
